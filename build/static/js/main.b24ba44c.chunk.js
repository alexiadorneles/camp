(this["webpackJsonpcamp-half-blood"]=this["webpackJsonpcamp-half-blood"]||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(15),r=n(19),i=n(45),c=n(43),o=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e,"/editions")}return Object(r.a)(n,[{key:"findCurrent",value:function(){return this.httpService.get("/editions/current")}}]),n}(n(42).a)},101:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a,r=n(6),i=n.n(r),c=n(11),o=n(15),u=n(19),s=n(53),l=n(118),m=n.n(l),d=n(66),f=n.n(d),p=n(27),v=n(17),h=n(24),b={"Content-Type":"application/json"},E={headers:Object(s.a)({},b)},g="http://localhost:3001";!function(e){e.GET="get",e.POST="post",e.PUT="put",e.DELETE="delete"}(a||(a={}));var y=function(){function e(t){Object(o.a)(this,e),this.history=t,this.axios=void 0,this.axios=this.generateAxiosInstance()}return Object(u.a)(e,[{key:"get",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.handleRequest((function(){return n.axios.get("".concat(g).concat(t),n.getConfig())})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,r=this,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},a=c.length>2&&void 0!==c[2]?c[2]:this.getConfig(),e.abrupt("return",this.handleRequest((function(){return r.axios.post("".concat(g).concat(t),n,a)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a=this,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",this.handleRequest((function(){return a.axios.put("".concat(g).concat(t),n,a.getConfig())})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.handleRequest((function(){return n.axios.delete("".concat(g).concat(t),n.getConfig())})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E.headers=Object(s.a)(Object(s.a)({},b),e)}},{key:"getConfig",value:function(){return this.setHeader({authorization:h.a.getToken()}),E}},{key:"generateAxiosInstance",value:function(){var e=m.a.create();return this.showLoaderInRequest(e),this.hideLoaderInResponse(e),e}},{key:"showLoaderInRequest",value:function(e){e.interceptors.request.use((function(e){return p.c.show(),e}),Promise.reject)}},{key:"hideLoaderInResponse",value:function(e){e.interceptors.response.use((function(e){return p.c.hide(),e}),(function(e){return p.c.hide(),Promise.reject(e)}))}},{key:"handleRequest",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,f.a.get(n,"data.token")&&this.saveTokenAndRemoveIt(n),e.abrupt("return",n&&n.data);case 8:return e.prev=8,e.t0=e.catch(0),this.handleError(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){return"JsonWebTokenError"===f.a.get(e,"response.data.error.name")||"TokenExpiredError"===f.a.get(e,"response.data.error.name")?(h.a.setToken(null),void this.history.push("/")):v.a.fire({title:"Erro",text:f.a.get(e,"response.data.error","Um erro ocorreu. Tente novamente mais tarde"),icon:"error"})}},{key:"saveTokenAndRemoveIt",value:function(e){h.a.setToken(e.data.token),delete e.data.token,e.data.camper&&h.a.setItem("idCamper",e.data.camper.idCamper)}}]),e}()},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(15),r=n(19),i=function(){function e(t){Object(a.a)(this,e),this.httpService=t}return Object(r.a)(e,[{key:"finish",value:function(e){return this.httpService.put("/rounds/finish/".concat(e))}},{key:"finishCurrentActivity",value:function(e){return this.httpService.put("/activities/end-current/".concat(e))}},{key:"findByCamper",value:function(e){return this.httpService.get("/rounds/campers/".concat(e))}}]),e}()},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(116),r=n.n(a),i=n(117),c=n.n(i)()(r.a)},173:function(e,t,n){},174:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(13),c=n.n(i),o=(n(145),n(121)),u=n(243),s=n(122),l=n(23),m=n(119),d=(n(146),n(27)),f=n(16),p=n(8),v=n(6),h=n.n(v),b=n(11),E=n(81),g=n(40),y=n(57);function O(e){var t=e.editionService,n=e.children,i=Object(E.a)(e,["editionService","children"]),c=Object(a.useContext)(y.a).dispatchEdition;return Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findCurrent();case 2:n=e.sent,c&&c(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(p.b,Object.assign({},i,{render:function(e){return Boolean(g.b.getToken())?n:r.a.createElement(p.a,{to:{pathname:"/",state:{from:e.location}}})}}))}var C=n(115),k=n(35),j=n(17),S=(n(176),n(24));function w(e){var t=e.camperService,n=Object(p.g)();function a(){return(a=Object(b.a)(h.a.mark((function e(n){var a,r,c,o,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(a=n).googleId,c=a.getBasicProfile(),o={idGoogle:r,dsImageURL:c.getImageUrl(),dsName:c.getName(),dsEmail:c.getEmail()},e.next=6,t.create(o);case 6:u=e.sent,S.a.setItem("idCamper",u.idCamper),i();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){n.push(k.a.PROFILE)}return S.a.getToken()&&n.push(k.a.PROFILE),r.a.createElement("div",{className:"Login"},r.a.createElement(d.d,{isPrimaryColor:!0}),r.a.createElement("p",{className:"Login__welcomeText"},"Bem vindo ao",r.a.createElement("br",null),"Acampamento",r.a.createElement("br",null),"Meio-Sangue"),r.a.createElement("div",{className:"Login__google"},r.a.createElement(C.GoogleLogin,{icon:!0,className:"Login__google--button",clientId:"520761070174-550nv94500sstugd3rcmsi6ch6ov2gi9.apps.googleusercontent.com",buttonText:"Entrar",onSuccess:function(e){return a.apply(this,arguments)},onFailure:function(e){e.error},cookiePolicy:"single_host_origin"})))}var P=n(236),I=n(251),_=n(237),N=n(238);n(177);function x(e){var t=e.editionService,n=e.cabinService,i=e.camperService,c=Object(a.useState)([]),o=Object(f.a)(c,2),u=o[0],s=o[1],l=Object(a.useState)(null),m=Object(f.a)(l,2),d=m[0],p=m[1],v=Object(a.useState)(null),E=Object(f.a)(v,2),g=E[0],y=E[1],O=Object(a.useState)(null),C=Object(f.a)(O,2),k=C[0],w=C[1],x=Number(S.a.getItem("idCamper"));function A(){return B.apply(this,arguments)}function B(){return(B=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getProfile();case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){y(e)}function T(){y(null)}function F(){return D.apply(this,arguments)}function D(){return(D=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=6;break}return e.next=3,i.setCabin(x,g.idCabin);case 3:A(),e.next=7;break;case 6:j.a.fire("Por favor escolha um chal\xe9",void 0,"warning");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){var t=e.campers.length>=d.nrCabinLimit,n=g&&g.idCabin===e.idCabin,a=n?"Sair deste chal\xe9":"Escolher este chal\xe9",i=n?T:R.bind(null,e);return r.a.createElement(P.a,{onClick:i,disabled:t,variant:"outlined",color:"secondary"},t?"Chal\xe9 lotado":a)}function q(e){var t=g&&g.idCabin===e.idCabin;return r.a.createElement("div",{key:e.idCabin,className:"CabinPage__cabin".concat(t?"--selected":"")},r.a.createElement(I.a,{className:"CabinPage__cabin--image",src:e.dsImageURL,alt:"imagem do chal\xe9"}),r.a.createElement("p",null,e.dsName),L(e))}return Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findCurrent();case 2:n=e.sent,p(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.findAll();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){A()}),[]),(k&&k.idCabin?r.a.createElement("div",{className:"CabinPage"},r.a.createElement("div",{className:"CabinPage__container"},r.a.createElement("div",{className:"CabinPage__container--inner-textOnly"},r.a.createElement("p",null,r.a.createElement("h1",null,"Voc\xea est\xe1 no Chal\xe9 ",k&&k.idCabin),r.a.createElement("br",null),"Voc\xea j\xe1 escolheu o seu chal\xe9, agora \xe9 com a gente!",r.a.createElement("br",null),"Assim que tivermos novidades sobre os chal\xe9s, voc\xea ser\xe1 notificado.",r.a.createElement("br",null),"Enquanto isso que tal passar o tempo?",r.a.createElement("br",null),r.a.createElement("br",null),"Verifique o nosso ",r.a.createElement("a",{href:"https://instagram.com/portalpercyjackson"},"Instagram"),r.a.createElement("br",null),r.a.createElement("br",null),"Conhe\xe7a o nosso ",r.a.createElement("a",{href:"https://portalpercyjackson.com"},"site"),r.a.createElement("br",null),r.a.createElement("br",null),"Verifique a nossa ",r.a.createElement("a",{href:"https://facebook.com/portalpercyjackson"},"p\xe1gina no Facebook"),r.a.createElement("br",null),r.a.createElement("br",null),"Verifique o nosso ",r.a.createElement("a",{href:"https://twitter.com/Portal_PJO"},"Twitter"),r.a.createElement("br",null),r.a.createElement("br",null),"Participe a nossa ",r.a.createElement("a",{href:"https://discord.gg/9WZD77C"},"comunidade do Discord"),r.a.createElement("br",null))))):d&&!d.dtBegin&&r.a.createElement("div",null,r.a.createElement("div",{className:"CabinPage"},r.a.createElement("div",{className:"CabinPage__container"},r.a.createElement("div",{className:"CabinPage__container--inner"},r.a.createElement("p",null,"Bem vindo a escolha de chal\xe9s!",r.a.createElement("br",null),r.a.createElement("br",null),"Os chal\xe9s tiveram suas vagas a venda e as restantes s\xe3o por ordem de chegada. Se voc\xea ficar muito tempo com essa tela aberta sem escolher um chal\xe9, pode acabar perdendo a vaga.",r.a.createElement("br",null),"Escolha um dos chal\xe9s dispon\xedveis abaixo e clique no bot\xe3o flutuante no canto inferior direito para confirmar a sua escolha. ",r.a.createElement("b",null,"VOC\xca S\xd3 ENTRA NO CHAL\xc9 AP\xd3S CLICAR NO BOT\xc3O FLUTUANTE")),u.filter((function(e){return e.campers.length<d.nrCabinLimit})).map(q))),r.a.createElement(_.a,{onClick:F,className:"bottom-floating-button",color:"secondary"},r.a.createElement(N.a,null)))))||r.a.createElement("h2",null,"Nossa edi\xe7\xe3o ainda n\xe3o come\xe7ou, por favor cheche nossas redes sociais para mais informa\xe7\xf5es (@portalpercyjackson)")}var A,B,R=n(76),T=n(53),F=n(248),D=n(254),L=n(246),q=n(255),H=n(249),M=n(239),G=n(244);!function(e){e.AC="AC",e.AL="AL",e.AP="AP",e.AM="AM",e.BA="BA",e.CE="CE",e.DF="DF",e.ES="ES",e.GO="GO",e.MA="MA",e.MT="MT",e.MS="MS",e.MG="MG",e.PA="PA",e.PB="PB",e.PR="PR",e.PE="PE",e.PI="PI",e.RJ="RJ",e.RN="RN",e.RS="RS",e.RO="RO",e.RR="RR",e.SC="SC",e.SP="SP",e.SE="SE",e.TO="TO"}(A||(A={})),function(e){e.BRAZIL="Brasil",e.OTHER="Outro"}(B||(B={}));var U;n(178);function V(e){var t=e.camperService,n=Object(p.g)(),i=Object(a.useState)(null),c=Object(f.a)(i,2),o=c[0],u=c[1],s=Object(a.useState)(!1),l=Object(f.a)(s,2),m=l[0],d=l[1],v=Object(a.useState)(U.DISPLAY),E=Object(f.a)(v,2),y=E[0],O=E[1],C=Object(a.useState)(!1),S=Object(f.a)(C,2),w=S[0],_=S[1];function x(){return(x=Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProfile();case 2:n=e.sent,u(n),d(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){O(U.EDITION)}function z(){return W.apply(this,arguments)}function W(){return(W=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o.blRegisterCompleted){e.next=6;break}return e.next=4,t.update(o);case 4:e.next=9;break;case 6:return e.next=8,t.completeRegister(o);case 8:n.push(k.a.CABIN_CHOICE);case 9:O(U.DISPLAY),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function J(e){var t=e.target.value,n=e.target.name;u((function(e){return Object(T.a)(Object(T.a)({},e),{},Object(R.a)({},n,t))}))}return Object(a.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[y]),Object(a.useEffect)((function(){m&&!o.blRegisterCompleted&&(j.a.fire({title:"Bem vindo!",text:"Precisamos que voc\xea informe alguns dados pra gente antes de continuarmos. Por favor informe dados verdadeiros, ou pode acabar sendo desclassificado no processo, tudo bem? Esses dados s\xe3o usados para sabermos quem est\xe1 participando e evitar contas fakes entrando no nosso Acampamento",icon:"info",showConfirmButton:!0,focusConfirm:!1,confirmButtonText:"Entendi!"}),O(U.EDITION))}),[m]),o&&r.a.createElement("div",{className:"Profile"},r.a.createElement("div",{className:"Profile__container"},r.a.createElement("div",{className:"Profile__photoAndNameContainer"},r.a.createElement(I.a,{className:"Profile__photoAndNameContainer--photo",alt:"foto de perfil",src:o.dsImageURL}),r.a.createElement("p",null,o.dsName)),y===U.DISPLAY?o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement("label",null,"Instagram: "),r.a.createElement("p",null,o.dsInstagramNick)),r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement("label",null,"Discord ID: "),r.a.createElement("p",null,o.nrDiscordID)),r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement("label",null,"Pa\xeds: "),r.a.createElement("p",null,o.tpCountry)),o.tpCountry===B.BRAZIL&&r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement("label",null,"Estado: "),r.a.createElement("p",null,o.tpState)),o.dtBirth&&r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement("label",null,"Idade: "),r.a.createElement("p",null,g.a.calculateAgeFromBirthDate(o.dtBirth))),r.a.createElement("div",{className:"Profile__container--actionButtonContainer"},r.a.createElement(P.a,{size:"medium",variant:"outlined",endIcon:r.a.createElement(M.a,null),onClick:V},"Editar Perfil"))):null:o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement(D.a,{htmlFor:"Pa\xeds"},"Pa\xeds*: "),r.a.createElement(L.a,{required:!0,variant:"outlined",name:"tpCountry",className:"Profile__container--formItem-textField",value:o.tpCountry||"",onChange:J},Object.values(B).map((function(e){return r.a.createElement(q.a,{key:e,value:e},e)})))),o.tpCountry===B.BRAZIL&&r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement(D.a,{htmlFor:"Estado"},"Estado*: "),r.a.createElement(L.a,{required:!0,variant:"outlined",name:"tpState",className:"Profile__container--formItem-textField",value:o.tpState,onChange:J},Object.values(A).map((function(e){return r.a.createElement(q.a,{key:e,value:e},e)})))),r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement(H.a,{required:!0,label:"Nome de Usu\xe1rio no Instagram:",name:"dsInstagramNick",onChange:J,variant:"outlined",className:"Profile__container--formItem-textField",value:o.dsInstagramNick||""})),r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement(H.a,{type:"number",label:"Discord ID",onChange:J,name:"nrDiscordID",variant:"outlined",className:"Profile__container--formItem-textField",value:o.nrDiscordID||""})),!o.blRegisterCompleted&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement(G.a,{invalidDateMessage:"Por favor insira uma data v\xe1lida!",className:"Profile__container--formItem-textField",inputVariant:"outlined",name:"dtBirth",required:!0,disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Data de Nascimento",value:o.dtBirth,onChange:function(e){return J({target:{name:"dtBirth",value:e}})},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement("label",{htmlFor:"check"},"Eu declaro que os dados acima s\xe3o verdadeiros"),r.a.createElement(F.a,{id:"check",name:"check",checked:w,onChange:function(e,t){return _(t)}}))),r.a.createElement("div",{className:"Profile__container--actionButtonContainer"},r.a.createElement(P.a,{size:"medium",disabled:!o.blRegisterCompleted&&(!w||!o.dsInstagramNick||!o.dtBirth||!o.tpCountry),variant:"outlined",color:"primary",endIcon:r.a.createElement(N.a,null),onClick:z},"Salvar Altera\xe7\xf5es"))):null))}!function(e){e.DISPLAY="Display",e.EDITION="Edition"}(U||(U={}));n(179);var z=null,W=!1,J=!1,Y=null,Q=function(e){z=e};function K(e){var t=e.roundService,n=e.camperService,i=null,c=Object(a.useState)(null),o=Object(f.a)(c,2),u=o[0],s=o[1],l=Object(a.useState)(null),m=Object(f.a)(l,2),p=m[0],v=m[1],E=Object(a.useState)(0),y=Object(f.a)(E,2),O=y[0],C=y[1],k=Number(S.a.getItem("idCamper"));function w(){var e;!function(){if(i){var e={idRound:u.idRound,idActivity:i.idActivity,idActivityOption:i.idActivityOption,idEdition:u&&u.idEdition||0,blCorrect:i.blCorrect};n.answerActivity(k,e)}}(),C(O+1),v(u&&u.activities[O]),e=u&&u.activities[O].idActivity,Y=e}function I(e){i=e}function _(){j.a.fire({title:r.a.createElement("strong",null,"Instru\xe7\xf5es"),icon:"info",html:"Por favor, leia at\xe9 o fim. Voc\xea est\xe1 prestes a come\xe7ar uma rodada dos jogos.\n             As perguntas todas possuem <b>40 segundos</b> para serem respondidas.\n             Se voc\xea sair dessa tela depois de clicar em iniciar, <b>voc\xea perde a rodada</b>.\n             Boa sorte!",showConfirmButton:!0,focusConfirm:!1,confirmButtonText:"Entendi e quero come\xe7ar!",onAfterClose:w})}function N(){return(N=Object(b.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={showConfirmButton:!1,footer:r.a.createElement(P.a,{onClick:w,id:"nextQuestion",disabled:!1,size:"large",variant:"outlined"},"Pr\xf3xima"),allowEscapeKey:!1,allowOutsideClick:!1,timer:4e4,timerProgressBar:!0,title:r.a.createElement("div",{className:"Game__dialog--titleContainer"},r.a.createElement("p",null,"Atividade ",O),r.a.createElement("small",null,p.tpActivity)),html:r.a.createElement("div",null,r.a.createElement(d.e,{quiz:p,onAnswerChosen:I}),r.a.createElement("span",{className:"Game__dialog--timer"},"Voc\xea tem ",r.a.createElement("b",null,"40")," segundos para responder.")),onBeforeOpen:function(){t=setInterval((function(){var e=j.a.getContent();if(e){var t=e.querySelector("b");if(t){var n=j.a.getTimerLeft()/1e3;t.textContent=n.toFixed(0)}}}),1e3)},onClose:function(){clearInterval(t)}},e.next=3,j.a.fire(a);case 3:return e.sent.dismiss===j.a.DismissReason.timer&&(n.answerTimedOut(k,p.idActivity,u.idEdition,u.idRound),u&&O>=u.activities.length&&(j.a.close(),C(O+100)),w()),e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findByCamper(k);case 2:return n=e.sent,s(n),Q(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}setInterval((function(){!document.hasFocus()&&z&&!W&&J&&(W=!0,j.a.close(),t.finishCurrentActivity(Y),j.a.fire({icon:"info",title:"Voc\xea saiu da tela",text:"Voc\xea n\xe3o poder\xe1 responder a esta pergunta, mas ainda pode responder as pr\xf3ximas"}),setTimeout((function(){return window.location.reload()}),5e3))}),8e3),function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){u&&O>u.activities.length&&(j.a.close(),t.finish(u.idRound),setTimeout((function(){j.a.fire({title:"Pronto!",icon:"success",text:"Voc\xea concluiu todas as quest\xf5es desse round! Agora \xe9 s\xf3 aguardar os resultados do ranking quando todos os campistas conclu\xedrem"})})))}),[O]);var x=null===u||O>u.activities.length;return r.a.createElement("div",{className:"Game"},r.a.createElement("div",{className:"Game__container"},r.a.createElement("div",{className:"Game__container--inner"},!p&&!x&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"RODADA DISPON\xcdVEIS"),r.a.createElement("p",null,"Nessa rodada temos ",u&&u.activities.length," atividades que acontecem uma ap\xf3s a outra",r.a.createElement("br",null),"Voc\xea deve demorar cerca de ",g.c.formatTimeFromSeconds(u?40*u.activities.length:0)," nessa tarefa. Apenas a inicie quando tiver tempo de concluir ela no momento"),r.a.createElement(P.a,{size:"large",onClick:_,variant:"outlined",color:"secondary"},"Come\xe7ar")),p&&(J=!0,function(){N.apply(this,arguments)}(),null),x&&r.a.createElement("p",null,"Nenhum round dispon\xedvel ainda. Cheque o cronograma para as pr\xf3ximas datas"))))}var Z=n(62);function $(){var e=Object(a.useState)(),t=Object(f.a)(e,2),n=t[0],i=t[1],c=Object(p.g)(),o=new Z.HttpService(c),u=new Z.CamperService(o),s=new Z.EditionService(o),l=new Z.CabinService(o),m=new Z.RoundService(o);return r.a.createElement(y.a.Provider,{value:{edition:n,dispatchEdition:i}},r.a.createElement(p.d,null,r.a.createElement(O,{editionService:s,path:"/secured"},r.a.createElement(d.b,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/secured/cabin-choice"},r.a.createElement(x,{cabinService:l,editionService:s,camperService:u})),r.a.createElement(p.b,{path:"/secured/profile"},r.a.createElement(V,{camperService:u})),r.a.createElement(p.b,{path:"/secured/games"},r.a.createElement(K,{roundService:m,camperService:u}))),r.a.createElement(d.a,null)),r.a.createElement(p.b,{path:"/"},r.a.createElement(w,{camperService:u}))))}var X=function(){return r.a.createElement(u.a,{theme:Object(s.a)({palette:{secondary:{main:"rgba(0, 0, 0, 0.8)"},primary:{main:"#FF9800"}}})},r.a.createElement(l.a,{utils:o.a},r.a.createElement(r.a.Fragment,null,r.a.createElement(d.c,null),r.a.createElement(m.a,null,r.a.createElement($,null)))))},ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function te(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ne=n(120);n.n(ne).a.config();var ae=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(ae,"px")),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ee?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):te(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):te(t,e)}))}}()},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(15),r=n(19),i="CAMP_PPJ_",c="USER_AUTH_TOKEN",o=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"getItem",value:function(e){return localStorage.getItem(i+e)}},{key:"setItem",value:function(e,t){if(null===t)return localStorage.removeItem(i+e);localStorage.setItem(i+e,"string"===typeof t?t:JSON.stringify(t))}},{key:"getToken",value:function(){return this.getItem(c)}},{key:"setToken",value:function(e){this.setItem(c,e?"Bearer ".concat(e):null)}}]),e}()},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return R}));var a=n(81),r=n(16),i=n(232),c=n(233),o=n(225),u=n(229),s=n(230),l=n(231),m=n(0),d=n.n(m),f=n(8),p=n(35),v=n(57),h=(n(147),"Escolher Chal\xe9"),b="Meu Chal\xe9",E="Jogos",g="Meu Perfil";function y(){var e=Object(m.useState)(""),t=Object(r.a)(e,2),n=t[0],y=t[1],O=Object(f.g)(),C=function(e){return[{icon:d.a.createElement(o.a,{color:"primary"}),label:h,value:h,route:p.a.CABIN_CHOICE,visibilityFunction:function(){return Boolean(e&&!e.dtBegin)}},{icon:d.a.createElement(u.a,{color:"primary"}),label:b,value:b,route:p.a.MY_CABIN,visibilityFunction:function(){return Boolean(e&&e.dtBegin)}},{icon:d.a.createElement(s.a,{color:"primary"}),label:E,value:E,route:p.a.GAMES,visibilityFunction:function(){return!0}},{icon:d.a.createElement(l.a,{color:"primary"}),label:g,value:g,route:p.a.PROFILE,visibilityFunction:function(){return!0}}]};return d.a.createElement(v.a.Consumer,null,(function(e){var t=e.edition;return d.a.createElement("div",{className:"CHBBottomNav"},d.a.createElement(i.a,{value:n,onChange:function(e,n){return function(e,t,n){y(t);var a=C(n).find((function(e){return e.value===t}));O.push(a.route)}(0,n,t)},showLabels:!0},C(t).filter((function(e){return e.visibilityFunction()})).map((function(e){e.visibilityFunction;var t=Object(a.a)(e,["visibilityFunction"]);return d.a.createElement(c.a,Object.assign({key:t.route},t))}))))}))}var O=n(234),C=n(235),k=n(236),j=n.p+"static/media/favicon.dadbeb4d.png",S=n.p+"static/media/favicon-orange-2.babe6acb.png";n(152);function w(e){var t=e.isPrimaryColor;return d.a.createElement("div",{className:"CHBLogo"},d.a.createElement("img",{className:"CHBLogo__image",src:t?S:j,alt:"Camp Half Blood Logo"}))}n(153);var P=n(40);function I(){var e=Object(f.g)();return d.a.createElement(O.a,{className:"CHBHeader",color:"secondary",position:"static"},d.a.createElement(C.a,null,d.a.createElement("div",{className:"CHBHeader__title"},d.a.createElement(w,{isPrimaryColor:!0}),d.a.createElement("p",{className:"CHBHeader__title--text"}," ACAMPAMENTO ")),d.a.createElement(k.a,{onClick:function(){P.b.setItem("idCamper",null),P.b.setToken(null),e.push("/")},color:"primary"},"Sair")))}var _=n(114),N=n.n(_),x=(n(173),"camp-loader"),A=function(){return d.a.createElement("div",{id:x},d.a.createElement(N.a,{type:"BallTriangle",color:"#00BFFF",height:100,width:100}))};A.show=function(){var e=document.getElementById(x);e&&(e.style.display="flex")},A.hide=function(){var e=document.getElementById(x);e&&(e.style.display="none")};var B=n(201);n(174);function R(e){var t=e.quiz,n=e.onAnswerChosen,a=Object(m.useState)(null),i=Object(r.a)(a,2),c=i[0],o=i[1];function u(e){o(e),n(e)}return d.a.createElement("div",{key:t.idQuestion,className:"CHBQuizDisplayer"},d.a.createElement("h2",null,t.dsQuestion),d.a.createElement("div",{className:"CHBQuizDisplayer__optionsContainer"},t.options.map((function(e){return d.a.createElement(B.a,{variant:"elevation",className:"".concat(c===e?"CHBQuizDisplayer__option--selected":"CHBQuizDisplayer__option"),onClick:u.bind(null,e),key:e.idActivityOption,elevation:3},e.dsOption)}))))}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={CABIN_CHOICE:"/secured/cabin-choice",MY_CABIN:"/secured/my-cabin",PROFILE:"/secured/profile",RANKING:"/secured/ranking",GAMES:"/secured/games"}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c.a})),n.d(t,"c",(function(){return o}));var a=n(15),r=n(19),i=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"calculateAgeFromBirthDate",value:function(e){"string"===typeof e&&(e=new Date(e.split("T").shift()));var t=new Date,n=t.getFullYear()-e.getFullYear(),a=t.getMonth()-e.getMonth();return(a<0||0===a&&t.getDate()<e.getDate())&&n--,n}}]),e}(),c=n(24),o=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"formatTimeFromSeconds",value:function(e){var t=Math.floor(e/60),n=e%60;return 0===t?"".concat(n," segundos"):0===n?"".concat(t," minutos"):"".concat(t," minutos e ").concat(n," segundos")}}]),e}()},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(15),r=n(19),i=function(){function e(t,n){Object(a.a)(this,e),this.httpService=t,this.controllerPrefix=n}return Object(r.a)(e,[{key:"create",value:function(e){return this.httpService.post("".concat(this.controllerPrefix),e)}},{key:"findOne",value:function(e){return this.httpService.get("".concat(this.controllerPrefix,"/").concat(e))}},{key:"findAll",value:function(){return this.httpService.get("".concat(this.controllerPrefix))}},{key:"update",value:function(e){return this.httpService.put(this.controllerPrefix,e)}},{key:"delete",value:function(e){return this.httpService.delete("".concat(this.controllerPrefix,"/").concat(e))}}]),e}()},57:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),r=n.n(a).a.createContext({})},62:function(e,t,n){"use strict";n(96);var a=n(97);n.d(t,"CabinService",(function(){return a.a}));var r=n(98);n.d(t,"CamperService",(function(){return r.a}));var i=n(99);n.o(i,"EditionService")&&n.d(t,"EditionService",(function(){return i.EditionService})),n.o(i,"HttpService")&&n.d(t,"HttpService",(function(){return i.HttpService})),n.o(i,"RoundService")&&n.d(t,"RoundService",(function(){return i.RoundService}));var c=n(100);n.d(t,"EditionService",(function(){return c.a}));var o=n(101);n.d(t,"HttpService",(function(){return o.a}));var u=n(110);n.d(t,"RoundService",(function(){return u.a}))},96:function(e,t,n){"use strict";var a=n(15),r=n(19),i=n(45),c=n(43);n(42).a},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(15),r=n(45),i=n(43),c=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e,"/cabins")}return n}(n(42).a)},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(6),r=n.n(a),i=n(11),c=n(15),o=n(19),u=n(124),s=n(52),l=n(45),m=n(43),d=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e,"/campers")}return Object(o.a)(n,[{key:"completeRegister",value:function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpService.put("/campers/complete-register",t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpService.get("/campers/profile"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(s.a)(n.prototype),"create",this).call(this,t);case 2:return a=e.sent,e.abrupt("return",a.camper);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setCabin",value:function(){var e=Object(i.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpService.put("/campers/".concat(t,"/cabin"),{idCabin:n}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"answerActivity",value:function(){var e=Object(i.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.idCamper=t,e.abrupt("return",this.httpService.post("/campers/".concat(t,"/answer"),n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"answerTimedOut",value:function(){var e=Object(i.a)(r.a.mark((function e(t,n,a,i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpService.post("/campers/".concat(t,"/answer-timed-out"),{idActivity:n,idEdition:a,idRound:i}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()}]),n}(n(42).a)},99:function(e,t){}},[[200,1,2]]]);
//# sourceMappingURL=main.b24ba44c.chunk.js.map