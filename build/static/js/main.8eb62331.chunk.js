(this["webpackJsonpcamp-half-blood"]=this["webpackJsonpcamp-half-blood"]||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(6),r=n.n(a),i=n(11),c=n(16),o=n(18),s=n(128),u=n(52),l=n(45),m=n(43),d=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e,"/campers")}return Object(o.a)(n,[{key:"completeRegister",value:function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpService.put("/campers/complete-register",t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpService.get("/campers/profile"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)(Object(u.a)(n.prototype),"create",this).call(this,t);case 2:return a=e.sent,e.abrupt("return",a.camper);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setCabin",value:function(){var e=Object(i.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpService.put("/campers/".concat(t,"/cabin"),{idCabin:n}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"answerActivity",value:function(){var e=Object(i.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.idCamper=t,e.abrupt("return",this.httpService.post("/campers/".concat(t,"/answer"),n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"answerTimedOut",value:function(){var e=Object(i.a)(r.a.mark((function e(t,n,a,i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpService.post("/campers/".concat(t,"/answer-timed-out"),{idActivity:n,idEdition:a,idRound:i}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()}]),n}(n(42).a)},101:function(e,t){},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(16),r=n(18),i=n(45),c=n(43),o=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e,"/editions")}return Object(r.a)(n,[{key:"findCurrent",value:function(){return this.httpService.get("/editions/current")}}]),n}(n(42).a)},103:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a,r=n(6),i=n.n(r),c=n(11),o=n(16),s=n(18),u=n(53),l=n(122),m=n.n(l),d=n(82),f=n.n(d),p=n(27),v=n(23),h=n(24),b={"Content-Type":"application/json"},E={headers:Object(u.a)({},b)},g="http://acampamentoolimpiano-com.umbler.net";!function(e){e.GET="get",e.POST="post",e.PUT="put",e.DELETE="delete"}(a||(a={}));var O=function(){function e(t){Object(o.a)(this,e),this.history=t,this.axios=void 0,this.axios=this.generateAxiosInstance()}return Object(s.a)(e,[{key:"get",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.handleRequest((function(){return n.axios.get("".concat(g).concat(t),n.getConfig())})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,r=this,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},a=c.length>2&&void 0!==c[2]?c[2]:this.getConfig(),e.abrupt("return",this.handleRequest((function(){return r.axios.post("".concat(g).concat(t),n,a)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a=this,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",this.handleRequest((function(){return a.axios.put("".concat(g).concat(t),n,a.getConfig())})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.handleRequest((function(){return n.axios.delete("".concat(g).concat(t),n.getConfig())})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E.headers=Object(u.a)(Object(u.a)({},b),e)}},{key:"getConfig",value:function(){return this.setHeader({authorization:h.a.getToken()}),E}},{key:"generateAxiosInstance",value:function(){var e=m.a.create();return this.showLoaderInRequest(e),this.hideLoaderInResponse(e),e}},{key:"showLoaderInRequest",value:function(e){e.interceptors.request.use((function(e){return p.c.show(),e}),Promise.reject)}},{key:"hideLoaderInResponse",value:function(e){e.interceptors.response.use((function(e){return p.c.hide(),e}),(function(e){return p.c.hide(),Promise.reject(e)}))}},{key:"handleRequest",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return n=e.sent,f.a.get(n,"data.token")&&this.saveTokenAndRemoveIt(n),e.abrupt("return",n&&n.data);case 8:return e.prev=8,e.t0=e.catch(0),this.handleError(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){return"JsonWebTokenError"===f.a.get(e,"response.data.error.name")||"TokenExpiredError"===f.a.get(e,"response.data.error.name")?(h.a.setToken(null),void this.history.push("/")):v.a.fire({title:"Erro",text:e.response.data.error||"Um erro ocorreu. Tente novamente mais tarde",icon:"error"})}},{key:"saveTokenAndRemoveIt",value:function(e){h.a.setToken(e.data.token),delete e.data.token,e.data.camper&&h.a.setItem("idCamper",e.data.camper.idCamper)}}]),e}()},112:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(16),r=n(18),i=function(){function e(t){Object(a.a)(this,e),this.httpService=t}return Object(r.a)(e,[{key:"finish",value:function(e){return this.httpService.put("/rounds/finish/".concat(e))}},{key:"findByCamper",value:function(e){return this.httpService.get("/rounds/campers/".concat(e))}}]),e}()},116:function(e,t,n){e.exports=n.p+"static/media/favicon.5fcd8a3e.png"},117:function(e,t,n){e.exports=n.p+"static/media/favicon-orange-2.c351b5cb.png"},145:function(e,t,n){e.exports=n(204)},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},204:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(13),c=n.n(i),o=(n(150),n(125)),s=n(246),u=n(126),l=n(22),m=n(123),d=(n(151),n(27)),f=n(8),p=n(6),v=n.n(p),h=n(11),b=n(119),E=n(40),g=n(23),O=(n(181),n(24));function y(e){var t=e.camperService,n=Object(f.g)();function a(){return(a=Object(h.a)(v.a.mark((function e(n){var a,r,c,o,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(a=n).googleId,c=a.getBasicProfile(),o={idGoogle:r,dsImageURL:c.getImageUrl(),dsName:c.getName(),dsEmail:c.getEmail()},e.next=6,t.create(o);case 6:s=e.sent,O.a.setItem("idCamper",s.idCamper),i();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){n.push(E.a.PROFILE)}return O.a.getToken()&&n.push(E.a.PROFILE),r.a.createElement("div",{className:"Login"},r.a.createElement(d.d,{isPrimaryColor:!0}),r.a.createElement("p",{className:"Login__welcomeText"},"Bem vindo ao",r.a.createElement("br",null),"Acampamento",r.a.createElement("br",null),"Meio-Sangue"),r.a.createElement("div",{className:"Login__google"},r.a.createElement(b.GoogleLogin,{icon:!0,className:"Login__google--button",clientId:"520761070174-550nv94500sstugd3rcmsi6ch6ov2gi9.apps.googleusercontent.com",buttonText:"Entrar",onSuccess:function(e){return a.apply(this,arguments)},onFailure:function(e){e.error},cookiePolicy:"single_host_origin"})))}var C,k=n(88),j=n(15),S=n(239),P=n(254),_=n(240),w=n(241);!function(e){e.RESOLVED="resolved",e.UNRESOLVED="unresolved"}(C||(C={}));n(182);function I(e){var t=e.editionService,n=e.cabinService,i=e.cabinRequestService,c=e.camperService,o=Object(a.useState)([]),s=Object(j.a)(o,2),u=s[0],l=s[1],m=Object(a.useState)(null),d=Object(j.a)(m,2),f=d[0],p=d[1],b=Object(a.useState)(1),E=Object(j.a)(b,2),g=E[0],y=E[1],I=Object(a.useState)([]),N=Object(j.a)(I,2),x=N[0],A=N[1],R=Object(a.useState)(null),B=Object(j.a)(R,2),T=B[0],q=B[1],D=Object(a.useState)(!1),F=Object(j.a)(D,2),L=F[0],H=F[1],M=Object(a.useState)(null),U=Object(j.a)(M,2),G=U[0],V=U[1],z=Number(O.a.getItem("idCamper"));function J(){return W.apply(this,arguments)}function W(){return(W=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getProfile();case 2:t=e.sent,V(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){q(e)}function Y(e){y(g+1),A((function(t){return[].concat(Object(k.a)(t),[e.idCabin])}))}function K(e){y(g-1);var t=x.filter((function(t){return t!==e.idCabin}));A(Object(k.a)(t))}function Z(){return $.apply(this,arguments)}function $(){return($=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idCamper:z,idEdition:f.idEdition,idFirstOptionCabin:x[0],idSecondOptionCabin:x[1],idThirdOptionCabin:x[2],status:C.UNRESOLVED},e.next=3,i.create(t);case 3:H(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){var t=x.includes(e.idCabin);return r.a.createElement("div",{key:e.idCabin,className:"CabinPage__cabin".concat(t?"--selected":"")},r.a.createElement(P.a,{className:"CabinPage__cabin--image",src:e.dsImageURL,alt:"imagem do chal\xe9"}),r.a.createElement("p",null,e.dsName),function(e){var t=x.includes(e.idCabin)||T===e,n=e.campers.length>=f.nrCabinLimit,a=Boolean(f.dtBegin);return t&&!a?r.a.createElement(S.a,{onClick:K.bind(null,e),color:"primary",variant:"outlined"},"Remover dos Selecionados"):t&&a?r.a.createElement(S.a,{disabled:!0,variant:"outlined",color:"secondary"},"Chal\xe9 escolhido!"):a?r.a.createElement(S.a,{onClick:Q.bind(null,e),disabled:n,variant:"outlined",color:"secondary"},n?"Chal\xe9 lotado":"Escolher este chal\xe9"):r.a.createElement(S.a,{onClick:Y.bind(null,e),disabled:x.length>=3,variant:"contained",color:"secondary"},g<4?"Escolher como ".concat(g,"a op\xe7\xe3o"):"Voc\xea j\xe1 selecionou suas 3 op\xe7\xf5es")}(e))}return Object(a.useEffect)((function(){function e(){return(e=Object(h.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findCurrent();case 2:n=e.sent,p(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.findAll();case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){function e(){return(e=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.checkUserHasRequests(z);case 2:t=e.sent,H(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){J()}),[]),G&&G.idCabin?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Voc\xea est\xe1 no Chal\xe9 ",G.idCabin),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h6",null,"Para conhecer os outros membros do seu chal\xe9, entre no nosso"," ",r.a.createElement("a",{href:"https://discord.gg/9WZD77C"},"Discord")," ")):f?r.a.createElement("div",null,f.dtBegin?r.a.createElement("div",{className:"CabinPage"},r.a.createElement("div",{className:"CabinPage__container"},r.a.createElement("div",{className:"CabinPage__container--inner"},r.a.createElement("p",null,"Bem vindo! Nossa edi\xe7\xe3o j\xe1 come\xe7ou e nenhum participante poder\xe1 entrar no momento. Mas fique tranquilo, voc\xea pode voltar a participar na nova edi\xe7\xe3o que acontecer\xe1 em alguns meses. Fique ligado nas not\xedcias do Instagram")))):L?r.a.createElement("div",{className:"CabinPage"},r.a.createElement("div",{className:"CabinPage__container"},r.a.createElement("div",{className:"CabinPage__container--inner-textOnly"},r.a.createElement("p",null,"Voc\xea j\xe1 escolheu os seus chal\xe9s, agora \xe9 com a gente!",r.a.createElement("br",null),"Assim que tivermos novidades sobre os chal\xe9s, voc\xea ser\xe1 notificado.",r.a.createElement("br",null),"Enquanto isso que tal passar o tempo?",r.a.createElement("br",null),r.a.createElement("br",null),"Verifique o nosso ",r.a.createElement("a",{href:"https://instagram.com/portalpercyjackson"},"Instagram"),r.a.createElement("br",null),r.a.createElement("br",null),"Verifique a nossa ",r.a.createElement("a",{href:"https://facebook.com/portalpercyjackson"},"p\xe1gina no Facebook"),r.a.createElement("br",null),r.a.createElement("br",null),"Verifique o nosso ",r.a.createElement("a",{href:"https://twitter.com/Portal_PJO"},"Twitter"),r.a.createElement("br",null),r.a.createElement("br",null),"Participe a nossa ",r.a.createElement("a",{href:"https://discord.gg/9WZD77C"},"comunidade do Discord"),r.a.createElement("br",null))))):r.a.createElement("div",{className:"CabinPage"},r.a.createElement("div",{className:"CabinPage__container"},r.a.createElement("div",{className:"CabinPage__container--inner"},r.a.createElement("p",null,"Bem vindo a escolha de chal\xe9s!",r.a.createElement("br",null),r.a.createElement("br",null),"Temos uma limita\xe7\xe3o de ",f.nrCabinLimit," pessoas por chal\xe9 nessa edi\xe7\xe3o, ent\xe3o N\xc3O podemos garantir que voc\xea consiga ficar na primeira op\xe7\xe3o. Qualquer d\xfavida sobre a escolha s\xf3 mandar uma mensagem para"," ",r.a.createElement("a",{target:"blank",href:"https://instagram.com/portalpercyjackson"},"Portal Percy Jackson"),r.a.createElement("br",null),r.a.createElement("br",null),"Ao finalizar, clique no \xedcone de flutuante no canto direito da p\xe1gina"),u.map(X))),r.a.createElement(_.a,{onClick:Z,className:"bottom-floating-button",color:"primary",disabled:x.length<3},r.a.createElement(w.a,null)))):null}var N,x,A=n(76),R=n(53),B=n(251),T=n(257),q=n(249),D=n(258),F=n(252),L=n(242),H=n(247);!function(e){e.AC="AC",e.AL="AL",e.AP="AP",e.AM="AM",e.BA="BA",e.CE="CE",e.DF="DF",e.ES="ES",e.GO="GO",e.MA="MA",e.MT="MT",e.MS="MS",e.MG="MG",e.PA="PA",e.PB="PB",e.PR="PR",e.PE="PE",e.PI="PI",e.RJ="RJ",e.RN="RN",e.RS="RS",e.RO="RO",e.RR="RR",e.SC="SC",e.SP="SP",e.SE="SE",e.TO="TO"}(N||(N={})),function(e){e.BRAZIL="Brasil",e.OTHER="Outro"}(x||(x={}));var M,U=n(39);n(183);function G(e){var t=e.camperService,n=Object(f.g)(),i=Object(a.useState)(null),c=Object(j.a)(i,2),o=c[0],s=c[1],u=Object(a.useState)(!1),l=Object(j.a)(u,2),m=l[0],d=l[1],p=Object(a.useState)(M.DISPLAY),b=Object(j.a)(p,2),O=b[0],y=b[1],C=Object(a.useState)(!1),k=Object(j.a)(C,2),_=k[0],I=k[1];function G(){return(G=Object(h.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProfile();case 2:n=e.sent,s(n),d(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){y(M.EDITION)}function z(){return J.apply(this,arguments)}function J(){return(J=Object(h.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o.blRegisterCompleted){e.next=6;break}return e.next=4,t.update(o);case 4:e.next=9;break;case 6:return e.next=8,t.completeRegister(o);case 8:n.push(E.a.CABIN_CHOICE);case 9:y(M.DISPLAY),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function W(e){var t=e.target.value,n=e.target.name;s((function(e){return Object(R.a)(Object(R.a)({},e),{},Object(A.a)({},n,t))}))}return Object(a.useEffect)((function(){!function(){G.apply(this,arguments)}()}),[O]),Object(a.useEffect)((function(){m&&!o.blRegisterCompleted&&(g.a.fire({title:"Bem vindo!",text:"Precisamos que voc\xea informe alguns dados pra gente antes de continuarmos. Por favor informe dados verdadeiros, ou pode acabar sendo desclassificado no processo, tudo bem? Esses dados s\xe3o usados para sabermos quem est\xe1 participando e evitar contas fakes entrando no nosso Acampamento",icon:"info",showConfirmButton:!0,focusConfirm:!1,confirmButtonText:"Entendi!"}),y(M.EDITION))}),[m]),o&&r.a.createElement("div",{className:"Profile"},r.a.createElement("div",{className:"Profile__container"},r.a.createElement("div",{className:"Profile__photoAndNameContainer"},r.a.createElement(P.a,{className:"Profile__photoAndNameContainer--photo",alt:"foto de perfil",src:o.dsImageURL}),r.a.createElement("p",null,o.dsName)),O===M.DISPLAY?o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement("label",null,"Instagram: "),r.a.createElement("p",null,o.dsInstagramNick)),r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement("label",null,"Discord ID: "),r.a.createElement("p",null,o.nrDiscordID)),r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement("label",null,"Pa\xeds: "),r.a.createElement("p",null,o.tpCountry)),o.tpCountry===x.BRAZIL&&r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement("label",null,"Estado: "),r.a.createElement("p",null,o.tpState)),o.dtBirth&&r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement("label",null,"Idade: "),r.a.createElement("p",null,U.a.calculateAgeFromBirthDate(o.dtBirth))),r.a.createElement("div",{className:"Profile__container--actionButtonContainer"},r.a.createElement(S.a,{size:"medium",variant:"outlined",endIcon:r.a.createElement(L.a,null),onClick:V},"Editar Perfil"))):null:o?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement(T.a,{htmlFor:"Pa\xeds"},"Pa\xeds*: "),r.a.createElement(q.a,{required:!0,variant:"outlined",name:"tpCountry",className:"Profile__container--formItem-textField",value:o.tpCountry||"",onChange:W},Object.values(x).map((function(e){return r.a.createElement(D.a,{key:e,value:e},e)})))),o.tpCountry===x.BRAZIL&&r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement(T.a,{htmlFor:"Estado"},"Estado*: "),r.a.createElement(q.a,{required:!0,variant:"outlined",name:"tpState",className:"Profile__container--formItem-textField",value:o.tpState,onChange:W},Object.values(N).map((function(e){return r.a.createElement(D.a,{key:e,value:e},e)})))),r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement(F.a,{required:!0,label:"Nome de Usu\xe1rio no Instagram:",name:"dsInstagramNick",onChange:W,variant:"outlined",className:"Profile__container--formItem-textField",value:o.dsInstagramNick||""})),r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement(F.a,{type:"number",label:"Discord ID",onChange:W,name:"nrDiscordID",variant:"outlined",className:"Profile__container--formItem-textField",value:o.nrDiscordID||""})),!o.blRegisterCompleted&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement(H.a,{invalidDateMessage:"Por favor insira uma data v\xe1lida!",className:"Profile__container--formItem-textField",inputVariant:"outlined",name:"dtBirth",required:!0,disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Data de Nascimento",value:o.dtBirth,onChange:function(e){return W({target:{name:"dtBirth",value:e}})},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement("div",{className:"Profile__container--formItem"},r.a.createElement("label",{htmlFor:"check"},"Eu declaro que os dados acima s\xe3o verdadeiros"),r.a.createElement(B.a,{id:"check",name:"check",checked:_,onChange:function(e,t){return I(t)}}))),r.a.createElement("div",{className:"Profile__container--actionButtonContainer"},r.a.createElement(S.a,{size:"medium",disabled:!o.blRegisterCompleted&&(!_||!o.dsInstagramNick||!o.dtBirth||!o.tpCountry),variant:"outlined",color:"primary",endIcon:r.a.createElement(w.a,null),onClick:z},"Salvar Altera\xe7\xf5es"))):null))}!function(e){e.DISPLAY="Display",e.EDITION="Edition"}(M||(M={}));n(184);var V=null,z=!1,J=function(e){V=e};function W(e){var t=e.roundService,n=e.camperService,i=null,c=Object(a.useState)(null),o=Object(j.a)(c,2),s=o[0],u=o[1],l=Object(a.useState)(null),m=Object(j.a)(l,2),f=m[0],p=m[1],b=Object(a.useState)(0),E=Object(j.a)(b,2),y=E[0],C=E[1],k=Number(O.a.getItem("idCamper"));function P(){!function(){if(i){var e={idRound:s.idRound,idActivity:i.idActivity,idActivityOption:i.idActivityOption,idEdition:s&&s.idEdition||0,blCorrect:i.blCorrect};n.answerActivity(k,e)}}(),C(y+1),p(s&&s.activities[y])}function _(e){i=e}function w(){g.a.fire({title:r.a.createElement("strong",null,"Instru\xe7\xf5es"),icon:"info",html:"Por favor, leia at\xe9 o fim. Voc\xea est\xe1 prestes a come\xe7ar uma rodada dos jogos.\n             As perguntas todas possuem <b>40 segundos</b> para serem respondidas.\n             Se voc\xea sair dessa tela depois de clicar em iniciar, <b>voc\xea perde a rodada</b>.\n             Boa sorte!",showConfirmButton:!0,focusConfirm:!1,confirmButtonText:"Entendi e quero come\xe7ar!",onAfterClose:P})}function I(){return(I=Object(h.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={showConfirmButton:!1,footer:r.a.createElement(S.a,{onClick:P,id:"nextQuestion",disabled:!1,size:"large",variant:"outlined"},"Pr\xf3xima"),allowEscapeKey:!1,allowOutsideClick:!1,timer:4e4,timerProgressBar:!0,title:r.a.createElement("div",{className:"Game__dialog--titleContainer"},r.a.createElement("p",null,"Atividade ",y),r.a.createElement("small",null,f.tpActivity)),html:r.a.createElement("div",null,r.a.createElement(d.e,{quiz:f,onAnswerChosen:_}),r.a.createElement("span",{className:"Game__dialog--timer"},"Voc\xea tem ",r.a.createElement("b",null,"40")," segundos para responder.")),onBeforeOpen:function(){t=setInterval((function(){var e=g.a.getContent();if(e){var t=e.querySelector("b");if(t){var n=g.a.getTimerLeft()/1e3;t.textContent=n.toFixed(0)}}}),1e3)},onClose:function(){clearInterval(t)}},e.next=3,g.a.fire(a);case 3:return e.sent.dismiss===g.a.DismissReason.timer&&(n.answerTimedOut(k,f.idActivity,s.idEdition,s.idRound),s&&y>=s.activities.length&&(g.a.close(),C(y+100)),P()),e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){function e(){return n.apply(this,arguments)}function n(){return(n=Object(h.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findByCamper(k);case 2:return n=e.sent,u(n),J(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}setInterval((function(){document.hasFocus()||!V||z||(e(),z=!0,p(null),g.a.close())}),8e3),e()}),[]),Object(a.useEffect)((function(){s&&y>s.activities.length&&(g.a.close(),t.finish(s.idRound),setTimeout((function(){g.a.fire({title:"Pronto!",icon:"success",text:"Voc\xea concluiu todas as quest\xf5es desse round! Agora \xe9 s\xf3 aguardar os resultados do ranking quando todos os campistas conclu\xedrem"})})))}),[y]);var N=null===s||y>s.activities.length;return r.a.createElement("div",{className:"Game"},r.a.createElement("div",{className:"Game__container"},r.a.createElement("div",{className:"Game__container--inner"},!f&&!N&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"RODADA DISPON\xcdVEIS"),r.a.createElement("p",null,"Nessa rodada temos ",s&&s.activities.length," atividades que acontecem uma ap\xf3s a outra",r.a.createElement("br",null),"Voc\xea deve demorar cerca de ",U.c.formatTimeFromSeconds(s?40*s.activities.length:0)," nessa tarefa. Apenas a inicie quando tiver tempo de concluir ela no momento"),r.a.createElement(S.a,{size:"large",onClick:w,variant:"outlined",color:"secondary"},"Come\xe7ar")),f&&(function(){I.apply(this,arguments)}(),t.finish(s.idRound),null),N&&r.a.createElement("p",null,"Nenhum round dispon\xedvel ainda. Cheque o cronograma para as pr\xf3ximas datas"))))}var Q=n(54),Y=n(81);function K(e){var t=e.children,n=Object(Y.a)(e,["children"]);return r.a.createElement(f.b,Object.assign({},n,{render:function(e){return Boolean(U.b.getToken())?t:r.a.createElement(f.a,{to:{pathname:"/",state:{from:e.location}}})}}))}function Z(){var e=Object(f.g)(),t=new Q.HttpService(e),n=new Q.CamperService(t),a=new Q.EditionService(t),i=new Q.CabinService(t),c=new Q.CabinRequestService(t),o=new Q.RoundService(t);return r.a.createElement(f.d,null,r.a.createElement(K,{path:"/secured"},r.a.createElement(d.b,null),r.a.createElement(f.d,null,r.a.createElement(f.b,{path:"/secured/cabin-choice"},r.a.createElement(I,{cabinRequestService:c,cabinService:i,editionService:a,camperService:n})),r.a.createElement(f.b,{path:"/secured/profile"},r.a.createElement(G,{camperService:n})),r.a.createElement(f.b,{path:"/secured/games"},r.a.createElement(W,{roundService:o,camperService:n}))),r.a.createElement(d.a,null)),r.a.createElement(f.b,{path:"/"},r.a.createElement(y,{camperService:n})))}var $=function(){return r.a.createElement(s.a,{theme:Object(u.a)({palette:{secondary:{main:"rgba(0, 0, 0, 0.8)"},primary:{main:"#FF9800"}}})},r.a.createElement(l.a,{utils:o.a},r.a.createElement(r.a.Fragment,null,r.a.createElement(d.c,null),r.a.createElement(m.a,null,r.a.createElement(Z,null)))))},X=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ee(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var te=n(124);n.n(te).a.config();var ne=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(ne,"px")),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");X?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ee(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ee(t,e)}))}}()},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(120),r=n.n(a),i=n(121),c=n.n(i)()(r.a)},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(16),r=n(18),i=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"getItem",value:function(e){return localStorage.getItem("CAMP_PPJ_"+e)}},{key:"setItem",value:function(e,t){if(null===t)return localStorage.removeItem("CAMP_PPJ_"+e);localStorage.setItem("CAMP_PPJ_"+e,"string"===typeof t?t:JSON.stringify(t))}},{key:"getToken",value:function(){return this.getItem("USER_AUTH_TOKEN")}},{key:"setToken",value:function(e){this.setItem("USER_AUTH_TOKEN",e?"Bearer ".concat(e):null)}}]),e}()},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return S})),n.d(t,"e",(function(){return A}));var a=n(81),r=n(15),i=n(235),c=n(236),o=n(229),s=n(233),u=n(234),l=n(0),m=n.n(l),d=(n(152),n(40)),f=n(8),p="Chal\xe9",v="Jogos",h="Meu Perfil";function b(){var e=Object(l.useState)(""),t=Object(r.a)(e,2),n=t[0],b=t[1],E=Object(f.g)(),g=[{icon:m.a.createElement(o.a,{color:"primary"}),label:p,value:p,route:d.a.CABIN_CHOICE,visibilityFunction:function(){return!0}},{icon:m.a.createElement(s.a,{color:"primary"}),label:v,value:v,route:d.a.GAMES,visibilityFunction:function(){return!0}},{icon:m.a.createElement(u.a,{color:"primary"}),label:h,value:h,route:d.a.PROFILE,visibilityFunction:function(){return!0}}];return m.a.createElement("div",{className:"CHBBottomNav"},m.a.createElement(i.a,{value:n,onChange:function(e,t){b(t);var n=g.find((function(e){return e.value===t}));E.push(n.route)},showLabels:!0},g.filter((function(e){return e.visibilityFunction()})).map((function(e){e.visibilityFunction;var t=Object(a.a)(e,["visibilityFunction"]);return m.a.createElement(c.a,Object.assign({key:t.route},t))}))))}var E=n(237),g=n(238),O=n(239),y=n(116),C=n.n(y),k=n(117),j=n.n(k);n(157);function S(e){var t=e.isPrimaryColor;return m.a.createElement("div",{className:"CHBLogo"},m.a.createElement("img",{className:"CHBLogo__image",src:t?j.a:C.a,alt:"Camp Half Blood Logo"}))}n(158);var P=n(39);function _(){var e=Object(f.g)();return m.a.createElement(E.a,{className:"CHBHeader",color:"secondary",position:"static"},m.a.createElement(g.a,null,m.a.createElement("div",{className:"CHBHeader__title"},m.a.createElement(S,{isPrimaryColor:!0}),m.a.createElement("p",{className:"CHBHeader__title--text"}," ACAMPAMENTO ")),m.a.createElement(O.a,{onClick:function(){P.b.setItem("idCamper",null),P.b.setToken(null),e.push("/")},color:"primary"},"Sair")))}var w=n(118),I=n.n(w),N=(n(178),function(){return m.a.createElement("div",{id:"camp-loader"},m.a.createElement(I.a,{type:"BallTriangle",color:"#00BFFF",height:100,width:100}))});N.show=function(){var e=document.getElementById("camp-loader");e&&(e.style.display="flex")},N.hide=function(){var e=document.getElementById("camp-loader");e&&(e.style.display="none")};var x=n(205);n(179);function A(e){var t=e.quiz,n=e.onAnswerChosen,a=Object(l.useState)(null),i=Object(r.a)(a,2),c=i[0],o=i[1];function s(e){o(e),n(e)}return m.a.createElement("div",{key:t.idQuestion,className:"CHBQuizDisplayer"},m.a.createElement("h2",null,t.dsQuestion),m.a.createElement("div",{className:"CHBQuizDisplayer__optionsContainer"},t.options.map((function(e){return m.a.createElement(x.a,{variant:"elevation",className:"".concat(c===e?"CHBQuizDisplayer__option--selected":"CHBQuizDisplayer__option"),onClick:s.bind(null,e),key:e.idActivityOption,elevation:3},e.dsOption)}))))}},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c.a})),n.d(t,"c",(function(){return o}));var a=n(16),r=n(18),i=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"calculateAgeFromBirthDate",value:function(e){"string"===typeof e&&(e=new Date(e.split("T").shift()));var t=new Date,n=t.getFullYear()-e.getFullYear(),a=t.getMonth()-e.getMonth();return(a<0||0===a&&t.getDate()<e.getDate())&&n--,n}}]),e}(),c=n(24),o=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"formatTimeFromSeconds",value:function(e){var t=Math.floor(e/60),n=e%60;return 0===t?"".concat(n," segundos"):0===n?"".concat(t," minutos"):"".concat(t," minutos e ").concat(n," segundos")}}]),e}()},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={CABIN_CHOICE:"/secured/cabin-choice",PROFILE:"/secured/profile",RANKING:"/secured/ranking",GAMES:"/secured/games"}},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(16),r=n(18),i=function(){function e(t,n){Object(a.a)(this,e),this.httpService=t,this.controllerPrefix=n}return Object(r.a)(e,[{key:"create",value:function(e){return this.httpService.post("".concat(this.controllerPrefix),e)}},{key:"findOne",value:function(e){return this.httpService.get("".concat(this.controllerPrefix,"/").concat(e))}},{key:"findAll",value:function(){return this.httpService.get("".concat(this.controllerPrefix))}},{key:"update",value:function(e){return this.httpService.put(this.controllerPrefix,e)}},{key:"delete",value:function(e){return this.httpService.delete("".concat(this.controllerPrefix,"/").concat(e))}}]),e}()},54:function(e,t,n){"use strict";var a=n(98);n.d(t,"CabinRequestService",(function(){return a.a}));var r=n(99);n.d(t,"CabinService",(function(){return r.a}));var i=n(100);n.d(t,"CamperService",(function(){return i.a}));var c=n(101);n.o(c,"EditionService")&&n.d(t,"EditionService",(function(){return c.EditionService})),n.o(c,"HttpService")&&n.d(t,"HttpService",(function(){return c.HttpService})),n.o(c,"RoundService")&&n.d(t,"RoundService",(function(){return c.RoundService}));var o=n(102);n.d(t,"EditionService",(function(){return o.a}));var s=n(103);n.d(t,"HttpService",(function(){return s.a}));var u=n(112);n.d(t,"RoundService",(function(){return u.a}))},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(16),r=n(18),i=n(45),c=n(43),o=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e,"/cabin-requests")}return Object(r.a)(n,[{key:"checkUserHasRequests",value:function(e){return this.httpService.get("/cabin-requests/check/".concat(e))}}]),n}(n(42).a)},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(16),r=n(45),i=n(43),c=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e,"/cabins")}return n}(n(42).a)}},[[145,1,2]]]);
//# sourceMappingURL=main.8eb62331.chunk.js.map